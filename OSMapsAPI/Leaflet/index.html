<!DOCTYPE html>
<html lang="en">
    <head>
        <title>OS Maps API Demo</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" />
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet" />
        <link href="../style.css" rel="stylesheet">
    </head>
    <body>
        <div id="header">
            <h1>OS Maps API demonstrator</h1>
            <p>This sample shows how to display a map using the OS Maps API and Leaflet</p>
            <p id="message">To view the map, please enter a valid API key.</p>
            <form autocomplete="on" onsubmit="setupLayer(); return false;">
                <label for="keyInput" class="stretch">
                    Project API Key
                    <input id="keyInput" type="text" placeholder="Enter your API Project Key from the OS Data Hub" />
                </label>
                <label for="style">
                    Mapping Style
                    <select id="style" onchange="setupLayer()">
                        <option value="Leisure 27700">Leisure 27700</option>
                        <option value="Light 27700">Light 27700</option>
                        <option value="Light 3857">Light 3857</option>
                        <option value="Outdoor 27700">Outdoor 27700</option>
                        <option value="Outdoor 3857">Outdoor 3857</option>
                        <option value="Road 27700">Road 27700</option>
                        <option value="Road 3857">Road 3857</option>
                    </select>
                </label>
                <button type="submit">Load map</button>
            </form>
        </div>
        <div id="map"></div>
        <div id="instructions">
            <p>To connect to your mapping API: </p>
            <ol>
                <li>Go to the <a href="https://osdatahub.os.uk" target="_blank" rel="noopener noreferrer">OS Data Hub</a>, </li>
                <li>Create a project, </li>
                <li>Add the <b>OS Maps API</b> to your project</li>
                <li>Copy the project API Key, and enter it into the box above.</li>
            </ol>
            <span>
                Note that this sample will allow you to zoom the map down into Premium data layers.
                If your API key only has access to OS OpenData layers then those requests will fail.
            </span>
        </div>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.5.0/proj4.js"></script>
        <script type="text/javascript" src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
        <script type="text/javascript" src="Proj4Leaflet/proj4leaflet.js"></script>
        <script type="text/javascript" src="map.js"></script>
    </body>
</html>